---
title: gstreamer插件编写指南：编写多对一元素和复用器
author: kernel
date: 2023-11-17 09:31:00 +0800
categories: [gstreamer, 插件编写]
tags: [gst插件编写, gstreamer, 多媒体]
---

N 对 1 元素在“请求型和暂态型衬底”以及“不同的调度模式”中都曾被提及和讨论过。N 对 1 元素的主要特点是，每个 pad 都在自己的线程中处于推模式，N 对 1 元素通过基于预期时间戳的逻辑同步这些流。这意味着，除了提供最早的下一个预期时间戳的数据流外，它让所有数据流等待。 当该数据流通过一个缓冲区后，下一个最早的预期时间戳就会被计算出来，然后我们又从原来的位置开始，直到所有数据流都达到 EOS。有一个名为`GstCollectPads` 的辅助基类可以帮助你完成这项工作。

但请注意，该辅助类只能帮助您从每个输入中抓取一个缓冲区，并给出具有最早时间戳的缓冲区。 如果您需要更复杂的功能，例如 "在给定时间戳之前不抓取新缓冲区 "或类似功能，则需要自己完成。
